-- H2 2.3.232;
;             
CREATE USER IF NOT EXISTS "UPEKSHA" SALT '36b275204302daa1' HASH '66b15dacc2607e8652b43fda23997dcec812aa1be1ece603e1d4a9ebcead0a8f' ADMIN;    
DROP TABLE IF EXISTS "PUBLIC"."ROLE" CASCADE; 
DROP TABLE IF EXISTS "PUBLIC"."USER_REGISTRATION" CASCADE;    
CREATE CACHED TABLE "PUBLIC"."ROLE"(
    "ID" CHARACTER VARYING(255) NOT NULL,
    "NAME" CHARACTER VARYING(255),
    "ROLE_STATUS" CHARACTER VARYING(255),
    "YEAR_OF_STUDYING" INTEGER
);            
ALTER TABLE "PUBLIC"."ROLE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ID");         
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.ROLE;    
INSERT INTO "PUBLIC"."ROLE" VALUES
('IT24101952', 'Upeksha Kavindu', 'Student', 4),
('S24001', 'Sampath Kottage', 'Admin', NULL),
('S24002', 'Chalani Kodithuwakku', 'IT Coordinator', NULL),
('S24003', 'Youwn Sandeepa', 'Event Organizer', NULL),
('IT24101953', 'Neethila Ranasinghe', 'Student', 3);
CREATE CACHED TABLE "PUBLIC"."USER_REGISTRATION"(
    "ID" CHARACTER VARYING(255) NOT NULL,
    "EMAIL" CHARACTER VARYING(255),
    "PASSWORD" CHARACTER VARYING(255),
    "ROLE_ID" CHARACTER VARYING(255)
);           
ALTER TABLE "PUBLIC"."USER_REGISTRATION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3" PRIMARY KEY("ID");            
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.USER_REGISTRATION;       
INSERT INTO "PUBLIC"."USER_REGISTRATION" VALUES
('IT24101952', 'upekshakavindu3@gmail.com', '1234', 'IT24101952'),
('IT24101953', 'neethilaranasinghe20023@gmail.com', '1234', 'IT24101953'),
('S24001', 'sampathkottage1923@gmail.com', '1234', 'S24001');
ALTER TABLE "PUBLIC"."USER_REGISTRATION" ADD CONSTRAINT "PUBLIC"."FKR67KI2IJKE71JG9ROUBIR636" FOREIGN KEY("ROLE_ID") REFERENCES "PUBLIC"."ROLE"("ID") NOCHECK;
